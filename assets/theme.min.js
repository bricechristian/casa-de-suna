$(document).ready((function(){let e;function a(){e=!($(window).innerWidth()<768)}a(),$(window).on("resize",(function(){a()}));var t=$(".external-links a");function s(){$("body").removeClass("open-flyout-nav"),$(".flyout-nav [aria-expanded]").attr("aria-expanded","false"),$(".open-submenu").removeClass("open-submenu"),$(".submenu .active-nav-link").removeClass("active-nav-link")}function n(e,a){var t=$(e),s=$(e).data("related-submenu"),n=setTimeout((function(){$("[data-featured-submenu]").attr("aria-expanded","false"),$(".active-nav-link").removeClass("active-nav-link"),$(".subcategory-menu").slideUp(),$('[data-featured-submenu="'+s+'"]').attr("aria-expanded","true"),$("body").addClass("open-submenu"),$(e).closest(".parent-link").find(".subcategory-menu").slideDown(),$(e).addClass("active-nav-link")}),150);t.mouseleave((function(){clearTimeout(n)}))}$(t).each((function(){this.hostname!==window.location.hostname&&(this.target="_blank",this.rel="noreferrer noopener")})),$(".hamburger, .js-close-flyout").on("click",(function(e){e.preventDefault(),$("body").hasClass("open-flyout-nav")?s():($("body").addClass("open-flyout-nav"),$(".flyout-nav").focus()),$.each($(".js-nav-lazy-load"),(function(e,a){var t=$(this).data("nav-src");$(this).attr("src",t)}))})),$(".js-close-flyouts").on("click",(function(){s()})),$("[data-related-submenu]").on("mouseenter",(function(a){e&&!$(this).hasClass("active-nav-link")&&n(this)})),$("[data-related-submenu] .icon-plus").on("click",(function(a){e||$(this).hasClass("active-nav-link")?e||($(".active-nav-link").removeClass("active-nav-link"),$(".subcategory-menu").slideUp()):n(this)})),$("[data-related-submenu] .icon-plus").on("click",(function(e){e.stopPropagation(),e.preventDefault()}));let o=0;var i=$(".nav-wrapper").innerHeight();function l(){let e=window.scrollY;e<i?$(".nav-wrapper").addClass("scrolled-to-top").removeClass("scroll-up scroll-down scrolled"):e>o?$(".nav-wrapper").addClass("scrolled scroll-down").removeClass("scroll-up scrolled-to-top"):e<o&&$(".nav-wrapper").addClass("scrolled scroll-up").removeClass("scroll-down scrolled-to-top"),o=e}$(window).on("scroll",(function(){l()})),l();var r=new ScrollMagic.Controller,c=gsap.timeline();document.fonts.ready.then((function(){var e=new SplitText('[data-reveal="lines-masked"]',{type:"words, lines",linesClass:"split-line-wrap-++",wordsClass:"split-line-child"}),a=new SplitText('[data-reveal="lines-masked-desc"] p, [data-reveal="lines-masked-desc"] p',{type:"words, lines",linesClass:"split-line-wrap-++",wordsClass:"split-line-child"});$('[data-reveal="lines-masked"]').addClass("loaded"),$('[data-reveal="lines-masked-desc"]').addClass("loaded"),$(window).resize((function(){c.progress(1),e.revert(),a.revert()})),$(".js-split-words").length>0&&gsap.utils.toArray(".js-split-words").forEach(((e,a)=>{new SplitText(e,{type:"words"});var t=$(e).find(".split-line-child").length;$(".split-line-child").eq([Math.floor(Math.random()*t)]).addClass("italicize")})),$(".list-animation-wrapper").each((function(){var e=$(this).data("offset")||0,a=$(this);new ScrollMagic.Scene({triggerElement:this,triggerHook:.9,offset:e}).setClassToggle(this,"scrolled").reverse(!1).addTo(r).on("enter",(function(e){a.find(".animate-item").length>0?$listItems=a.find(".animate-item"):$listItems=a.find("li"),$listItems.each((function(e){var a=this;setTimeout((function(){$(a).addClass("fade-in")}),100*e)}))}))})),$(".js-preload").each((function(){var e=$(this).data("offset")||0,a=$(this);new ScrollMagic.Scene({triggerElement:this,triggerHook:.9,offset:e}).reverse(!1).addTo(r).on("enter",(function(e){a.removeClass("js-preload"),setTimeout((function(){a.removeClass("js-loading")}),1e3)}))}))})),document.fonts.ready.then((function(){$('[data-trigger="scroll"], [data-anim="scroll"]').each((function(){var e=this,a=$(this).data("offset")||0;new ScrollMagic.Scene({triggerElement:this,offset:a,triggerHook:.85}).setClassToggle(this,"js-animate").reverse(!1).addTo(r);var t=$(this).find('[data-anim="scale"]');if(t.length>0){var s=null!=t.data("scale-from")?parseFloat(t.data("scale-from")):1,n=null!=t.data("scale-to")?parseFloat(t.data("scale-to")):1.09,o=null!=t.data("trigger-hook")?parseFloat(t.data("trigger-hook")):.4,i=null!=$(this).data("duration")?$(this).data("duration"):"100%",l=new TimelineMax,c=t;l.fromTo(c,1,{scale:s},{scale:n}),new ScrollMagic.Scene({triggerElement:e,triggerHook:o,duration:i}).setTween(l).addTo(r)}if($(window).innerWidth()>768){var d=$(this).find('[data-anim="parallax"]');d.length>0&&d.each((function(){var a=new TimelineMax,t=null!=$(this).data("translate-from")?parseFloat($(this).data("translate-from")):40,s=null!=$(this).data("translate-to")?parseFloat($(this).data("translate-to")):-40,n=null!=$(this).data("duration")?$(this).data("duration"):"200%";a.fromTo($(this),1,{y:t},{y:s}),new ScrollMagic.Scene({triggerElement:e,triggerHook:1,duration:n}).setTween(a).addTo(r)}))}}))})),new Swiper(".swiper-container-home-hero",{pagination:{el:".swiper-pagination",clickable:"true"},speed:400,allowTouchMove:!0,loop:!0,autoplay:{delay:1e4,disableOnInteraction:!0},effect:"fade",fadeEffect:{crossFade:!0}});var d=new Swiper(".swiper-sidebar-affiliate",{pagination:{el:".swiper-pagination",clickable:"true"},speed:400,allowTouchMove:!0,loop:!0,autoplay:{delay:1e4,disableOnInteraction:!0},navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},init:!1}),p=(new Swiper(".swiper-container-three",{slidesPerView:3,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:"true"},speed:400,allowTouchMove:!0,loop:!0,autoplay:{delay:1e4,disableOnInteraction:!0},navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{768:{slidesPerView:1.3,spaceBetween:20},900:{slidesPerView:2}}}),new Swiper(".swiper-container-four",{slidesPerView:4,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:"true"},speed:400,allowTouchMove:!0,loop:!0,autoplay:{delay:1e4,disableOnInteraction:!0},navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},breakpoints:{768:{slidesPerView:1.3,spaceBetween:20},900:{slidesPerView:2}},init:!1}));const u=window.matchMedia("(min-width:769px)");let f;const m=function(){if(!0!==u.matches)return!1===u.matches?h():void 0;void 0!==f&&f.destroy(!0,!0)},h=function(){f=new Swiper(".swiper-container-mobile",{pagination:{el:".swiper-pagination",clickable:"true"},speed:400,allowTouchMove:!0,slidesPerView:1.1,loop:!0,autoplay:{delay:1e4,disableOnInteraction:!0}})};function v(e){const a=new Date;a.setTime(+a+2592e6),window.document.cookie=`${e+"=no; expires="}${a.toGMTString()}; path=/`}function g(){$("body").addClass("show-email-popup"),setTimeout((function(){$(".email-popup-form-wrapper").addClass("js-animate")}),100)}function w(e){e.find(".js-inner-form-wrap").hide(),e.find(".success-message").fadeIn(),v("email-popup-dismissed"),setTimeout((function(){$(".email-popup-form-wrapper").removeClass("js-animate"),$("body").removeClass("show-email-popup email-submitted")}),3e3)}function b(e,a){if($(e).attr("data-category-id")&&"clear-filter"!=$(e).data("load-type")){var t=$(e).attr("data-category-id");$(".js-load-more").attr("data-category-id",t)}return{query:a,categoryIds:t}}function y(e,a,t){var s=$(e).data("load-type")?$(e).data("load-type"):"more";return(t=function(e,a){if("more"==a){var t=parseInt($(".js-load-more").attr("data-page-number"),10);e.pageNumber=t,t+=1,$(".js-load-more").attr("data-page-number",t)}else $(".js-load-more").attr("data-page-number",2);return e.action="setup_pagination",$.ajax({type:"POST",dataType:"html",url:ajaxurl,data:e,success:function(e){var a=parseInt(e,10);parseInt($(".js-load-more").attr("data-page-number"),10)>a?($(".js-load-more").hide(),$(".js-load-more").prop("disabled",!0)):($(".js-load-more").show(),$(".js-load-more").prop("disabled",!1))}}),e}(t,s)).action="more_post_ajax",$.ajax({type:"POST",dataType:"html",url:ajaxurl,data:t,success:function(a){var t=$(a);t.length?("more"!=s?$("#ajax-posts").empty():$(".js-load-more").text("Load More"),$("#ajax-posts").append(t),$(e).attr("disabled",!1),$("#ajax-posts .post-thumb").addClass("js-animate"),$('[data-reveal="lines-masked"]').addClass("loaded"),$('[data-reveal="lines-masked-desc"]').addClass("loaded")):$("#ajax-posts").html("There are no results for your search. Please try another search term or use the filters to find what you're looking for.")},error:function(e,a,t){$("#ajax-posts").html(e+" :: "+a+" :: "+t)}}),!1}u.addListener(m),m(),$(".scroll-to").on("click",(function(e){e.preventDefault();var a=$(this).attr("href");if("#bottom"==a)var t=$("#top").offset().top+$("#top").outerHeight()-$(window).height();else t=$(a).offset().top;$("html, body").animate({scrollTop:t},600)})),null===function(e){const a=document.cookie,t="email-popup-dismissed=";let s=a.indexOf("; "+t);if(-1==s){if(s=a.indexOf(t),0!=s)return null}else{s+=2;var n=document.cookie.indexOf(";",s);-1==n&&(n=a.length)}return decodeURI(a.substring(s+t.length,n))}()&&setTimeout((function(){g()}),1e4),$(".js-open-newsletter-popup").on("click",(function(){g()})),$(".js-klaviyo-form").on("submit",(function(e){e.preventDefault();var a=$(this),t=$(this).find("input[type=email]").val();if(function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(t)){$(a).find(".error-message").fadeOut();var s=a.data("list-id");$.ajax({url:"https://manage.kmail-lists.com/ajax/subscriptions/subscribe",method:"POST",crossDomain:!0,dataType:"json",data:{g:s,$consent:"web",email:t},success:function(e){w(a)}})}else $(a).find(".error-message").fadeIn()})),$(".js-close-email-popup").on("click",(function(){v("email-popup-dismissed"),$("body").removeClass("show-email-popup"),$(".email-popup-form-wrapper").removeClass("js-animate")})),$("#email-popup form").on("submit",(function(e){e.preventDefault(),w()})),$(".js-toggle-category-nav").on("click",(function(){$(this).closest(".js-category-nav-wrapper").toggleClass("open-cat-nav"),$(this).closest(".js-category-nav-wrapper").find("ul").slideToggle(300)})),$(".js-category-nav-wrapper").on("click",".js-filter-cats, .js-clear-filters",(function(e){e.preventDefault(),$(this).closest(".js-category-nav-wrapper").find(".js-active-cat-name").text($(this).text()),$(this).closest(".js-category-nav-wrapper").removeClass("open-cat-nav"),$(this).closest(".js-category-nav-wrapper").find("ul").slideUp(300)})),$(".js-category-nav-wrapper").on("click",".js-filter-cats",(function(e){})),$(".js-category-nav-wrapper").on("click",".js-clear-filters",(function(e){})),$(".js-load-more").on("click",(function(){$(this).attr("disabled",!0),$(this).text("Loading..."),y(this,0,b(this,""))})),$(".js-filter-post-category").on("click",(function(e){e.preventDefault(),$(".no-click").removeClass("no-click"),$(this).addClass("no-click"),$(".active-cat-filter").removeClass("active-cat-filter"),$(this).addClass("active-cat-filter");var a=$(this).text();$(".js-active-cat-name").text(a),$(this).closest(".js-category-nav-wrapper").removeClass("open-cat-nav"),$(this).closest(".js-category-nav-wrapper").find("ul").slideUp(300),y(this,0,b(this))})),$(".js-view-our-products").on("click",(function(){$(".js-our-picks").hide(),$(".js-our-products").fadeIn(),$(".shop-menu--active").removeClass("shop-menu--active"),$(this).addClass("shop-menu--active")})),$(".js-filter-picks").on("click",(function(){!function(e){if($(".js-our-products").hide(),$(".js-our-picks").fadeIn(),$(".shop-menu--active").removeClass("shop-menu--active"),$(e).addClass("shop-menu--active"),$(window).innerWidth()>1025){var a=$(".products-col").offset().top-80;$("html, body").animate({scrollTop:a},200)}}(this);var e=$(this).data("filter-cat");$(".js-picks-panel").hide(),$('.js-picks-panel[data-filter-cat="'+e+'"]').fadeIn()})),$(".js-widget-panel").each((function(e,a){var t=setInterval((function(){if($(a).find(".bo-garden").length>0){clearInterval(t);var e=$(a).find(".shop-widget-show"),s=$(a).find(".bo-garden").html();e.html(s),e.find(".bo-box").unwrap(),e.find(".bo-box a").unwrap(),e.find("a").wrap('<div class="shop-thumb affiliate-thumb"></div>'),e.find("img").wrap('<div class="reward-img hover-actions-wrapper"><div class="cropped-image-wrapper square"></div></div>'),e.find(".reward-img").append('<div class="hover-overlay"><div class="btn btn--hover-cream">View</div></div>'),$(".js-shop-all-html").append(e.html())}}),800)})),$(".js-widget-carousel").each((function(e,a){var t=setInterval((function(){if($(a).find(".bo-garden").length>0){clearInterval(t);var e=$(a).find(".shop-widget-show"),s=$(a).find(".bo-garden").html();e.html(s),e.find(".bo-box").unwrap(),e.find(".bo-box a").unwrap(),e.find("a").wrap('<div class="swiper-slide"><div class="shop-thumb affiliate-thumb "></div></div>'),e.find("img").wrap('<div class="reward-img hover-actions-wrapper"><div class="cropped-image-wrapper square"></div></div>'),e.find(".reward-img").append('<div class="hover-overlay"><div class="btn btn--hover-cream">View</div></div>'),$(".js-shop-all-html").append(e.html()),setTimeout((function(){$(a).find(".swiper-container-four").length>0?p.init():$(a).find(".swiper-sidebar-affiliate").length>0&&d.init()}),100)}}),800)})),$(".js-open-cart").on("click",(function(){$("body").addClass("open-cart")})),$("body").on("click",".js-close-cart",(function(){$("body").removeClass("open-cart")})),$(".js-open-search").on("click",(function(){$("body").toggleClass("open-search"),$("body").removeClass("open-flyout-nav"),setTimeout((function(){$('.search-form input[type="search"]').focus()}),200)})),$(".search-form");var j=$(".search-form .search-field"),k=$(".js-search-loader"),C="",x=$(".search-form .results-list"),T=$(".search-form .js-search-nav");j.attr("autocomplete","off"),j.keyup((function(){k.css("display","block"),""!==j.val()?(C=!0,$(".js-clear-search").fadeIn(),M()):(C=!1,x.empty(),T.empty(),$(".js-clear-search").hide(),k.css("display","none"))})),$(".js-clear-search").on("click",(function(e){e.preventDefault(),j.val(""),j.trigger("keyup"),j.focus()}));var I,S,_,M=(I=function(){var e=j.val();$.ajax({type:"POST",url:ajaxurl,dataType:"html",data:{action:"ajax_search",query:e},success:function(e){var a=$(e);C&&a.length&&(x.html(a),x.addClass("js-animate"),$('[data-reveal="lines-masked"]').addClass("loaded"),$('[data-reveal="lines-masked-desc"]').addClass("loaded"))},complete:function(){k.css("display","none")}}),$.ajax({type:"POST",url:ajaxurl,data:{action:"ajax_search_results_nav",query:e},success:function(e){var a=$(e);C&&(a.eq(0).find("button").addClass("active-search-filter"),T.html(a))},complete:function(){k.css("display","none")}})},200,function(){var e=this,a=arguments,t=function(){_=null,I.apply(e,a)},s=S;clearTimeout(_),_=setTimeout(t,200),s&&I.apply(e,a)});let P;function O(){$(".subcollection-flyout--open").removeClass("subcollection-flyout--open")}function D(){P=setTimeout((function(){O()}),300)}$(".search-form").on("submit",(function(e){e.preventDefault()})),$(".js-search-nav").on("click",".js-filter-search-cat",(function(){var e=$(this).attr("data-search-filter");$(".js-filter-search-cat").removeClass("active-search-filter"),$(this).addClass("active-search-filter"),$(".results .page-thumb, .results .product, .results .js-affiliate-item, .results .post-thumb").hide(),"All Results"==e?$(".results .page-thumb, .results .product, .results .js-affiliate-item, .results .post-thumb").fadeIn(400):"Articles"==e?$(".results .post-thumb").fadeIn(400):"Our Products"==e?$(".results .product").fadeIn(400):"Our Picks"==e&&$(".results .js-affiliate-item").fadeIn(400)})),$(".js-expand-comments").on("click",(function(){$(".js-comment-section").slideToggle(),$(this).toggleClass("active-comment-section")})),$(".swiper-upper-right-nav").each((function(e){new Swiper(".swiper-upper-right-nav",{pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},speed:600,allowTouchMove:!0,slidesPerView:1.2,spaceBetween:30,autoplay:{delay:1e4,disableOnInteraction:!0},breakpoints:{750:{slidesPerView:3,spaceBetween:30,slidesPerGroup:3,allowTouchMove:!1}}})})),$(".accordion").on("click",".accordion-toggle",(function(){var e=$(this).closest(".accordion-panel");e.toggleClass("expanded"),e.find(".accordion-text").slideToggle(300),e.attr("aria-expanded",(function(e,a){return"true"==a?"false":"true"}))})),$(".js-view-cart").on("click",(function(e){e.preventDefault(),$("body").addClass("open-cart")})),$(".js-close-cart").on("click",(function(e){e.preventDefault(),$("body").removeClass("open-cart")})),$(".swatch :radio").change((function(){var e=$(this).closest(".swatch").attr("data-option-index"),a=$(this).val();$(this).closest("form").find(".js-single-option-selector").eq(e).val(a).trigger("change")})),$(".product-info__trigger").on("click",(function(e){e.preventDefault();const a=$(this).data("tab");$(".product-info__tab").hide(),$('.product-info__tab[data-tab="'+a+'"]').fadeIn(),$(".product-info__trigger").removeClass("active"),$(this).addClass("active")})),window.location.hostname,$(".js-open-subcollection-flyout").on("mouseenter",(function(){const a=$(this),t=a.attr("data-nav-collection"),s=a.closest("li").find(".subcollection-flyout"),n=s.find(".subcollection-flyout__products");clearInterval(P),O(),s.addClass("subcollection-flyout--open"),n.is(":empty")&&e&&fetch("/collections/"+t+"?view=nav-recs").then((function(e){return e.text()})).then((function(e){e&&""!=e.trim()&&n.html(e.trim())})).catch((function(e){addErrorStyles("Failed to perform search. Check your internet connection and try again.")}))})),$(".js-open-subcollection-flyout").on("mouseleave",(function(){D()})),$(".subcollection-flyout").on("mouseenter",(function(){clearInterval(P)})),$(".subcollection-flyout").on("mouseleave",(function(){D()})),$(".js-open-mobile-collection-menu").on("click",(function(e){$(".main-shop-nav__flyout").toggleClass("main-shop-nav__flyout--active")})),$(".js-open-subcollection-flyout .icon-plus").on("click",(function(a){e||(a.preventDefault(),a.stopPropagation(),$(this).closest("li").find(".subcollection-flyout").slideToggle())})),$("[js-order-accordion-header]").on("click",(function(){const e=$(this);e.toggleClass("open"),$content=e.next(),console.log($content[0]),$content.slideToggle(300)})),console.log("test")}));